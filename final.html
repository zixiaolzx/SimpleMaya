<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Final Project</title>

    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/custom2016.css" rel="stylesheet">
    
	<script src="resources/common.js"></script>
    <script src="resources/glUtil.js"></script>
    <script src="resources/uiUtil.js"></script>
	<script src="resources/vector.js"></script>
    <script src="resources/matrix.js"></script>
    <script src="resources/cube.js"></script>
	<script src="resources/arm.js"></script>
	<script src="resources/skeleton.js"></script>
	<script src="resources/joint.js"></script>
	<script src="resources/skin.js"></script>

    <script src="resources/catmullromspline.js"></script>
	<script src="resources/drawutils.js"></script>
    <script src="resources/node.js"></script>
	<!-- Add all tasks -->
	<script src="resources/task3.js"></script>

    <script src="resources/geometry.js"></script>
    <script src="resources/mesh.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

<style>

</style>
</head>

<body onload="setupAssignment();">
    <div class="container headerBar">
        <h1>Graph Editor</h1>
    </div>
    <div class="container contentWrapper">
        <div class="pageContent">
            <!-- ================================================================= -->
            <h2>View Window</h2>
            
            <p> </p>
            <div>
                <div style="float:left;margin:30px 0 0 100px">
                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none; margin:0 0 20px 0;">
                    <button class = "dropbtn">Save</button>
                    </div>

                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;">
                    <button id="play" class = "dropbtn" onclick="changeText()">Play</button>
                    </div>

                    <div class = "dropdown" style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;margin:20px 0 120px 5px;">
                        <button id="load" class = "dropbtn" style="text-align: center" onclick="loadmesh()">Mesh</button>
                        <div id="myDropdown" class="dropdown-content">
                            <button id="load0">Cube</button>
                            <button id="load1">Torus</button>
                            <button id="load2">Sphere</button>
                            <button id="load3">Icosahedron</button>
                            <button id="load4"">Octahedron</button>
                        </div>
                    </div>

                    

                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;margin:0 0 40px 0;">
                    <button class = "dropdown">Translate</button>
                    </div>

                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;margin:0 0 40px 0;">
                    <button class = "dropdown">Rotation</button>
                    </div>
                </div>
                
                </div>
                <div class="canvas-container">
                <div style="float:center;margin:30px 0 0 220px">
    				<canvas id="task-1" width="820" height="461"></canvas>
                </div>
                </div>
            </div>

            <div style ="margin:0 0 0 0">

                <div style="float:left;margin:0 0 0 40px">
                    Translation:
                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none; margin:10px 0 20px 0;">
                    <button id="axis_x">X</button>
                    </div>
                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;margin:0 0 20px 0;">
                    <button id="axis_y">Y</button>
                    </div>
                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;margin:0 0 20px 0;">
                    <button id="axis_z">Z</button>
                    </div>
                </div>

                <div style = "float:left;margin:30px 0 0 30px;"">
                    <form>
                      <input id = "value" type="text" name="Time" value = "Value" style = "width:50px;margin:0 0 0 10px;">
                    </form>
                    <div style="text-align: center;user-select: none; -webkit-user-select: none; -moz-user-select: none;margin:20px 0 20px 0;">
                    <button id= "set">Set</button>
                    <form>
                        <input type="Submit" value = "Delete" style="margin:20px 0 0 0">
                    </form>
                    </div>

                <!-- <div style="float:left;margin:30px 0 0 40px"> -->
                </div>


                <div class="canvas-container" style="float:center">
                    <canvas id="task-5" width="820" height="150" style="margin:0 30px 0 0; border: 1px solid black;"></canvas>
                </div>

                <div style="text-align: center; user-select: none; -webkit-user-select: none; -moz-user-select: none;">
                    <form>
                        <input type="Submit" value = "Clear Canvas" style="margin:20px 0 0 0">
                    </form>
                </div>
            </div>
            <!-- ================================================================= -->
        </div>
    </div>

    <script>
        var task5Curve = null;
        var animation_play = false;
        var play_time = 0;
        var axis = 0;
        var meshid = -1;
        
        function setupAssignment() {

            setupTask("task-1", Task3);

            // Set up the curves
            task5Curve = new CatmullRomSpline("task-5");
            // Call the draw function
            draw();
        }
        
        function draw() {
            task5Curve.drawTask5();
            
            requestAnimFrame(function() {
                draw();
            });
        }
        
        function clearCurve(canvasId) {
            if(canvasId == 5)
                task5Curve = new CatmullRomSpline("task-5");
        }
        
        window.requestAnimFrame = (function(callback) {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
            function(callback) {
                window.setTimeout(callback, 1000 / 30);
            };
        })();
        
        function printValue(sliderID, textbox) {
            var x = document.getElementById(textbox);
            var y = document.getElementById(sliderID);
            x.value = y.value;
        }

        function changeText()
        {
            var text = document.getElementById('play');
            if(text.innerHTML === 'Play'){
                text.innerHTML = 'Stop';
            }else if(text.innerHTML === 'Stop'){
                text.innerHTML = 'Play';
            }
        }

        function loadmesh() {
        document.getElementById("myDropdown").classList.toggle("show");
        }

        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
        if (!event.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }

        // function loadcube() {
        //     Task3.selectModel(0);
        //     console.log("load0");
        //     setupTask("task-1", Task3);
        // }


    }

    </script>
</body>
</html>
